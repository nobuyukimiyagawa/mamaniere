<!doctype html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,user-scalable=yes">

  <!-- CSS -->
  <link rel="stylesheet" href="../css/reset.css">
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/under.css">

  <!-- JS -->
  <script src="../js/jquery-3.6.0.min.js"></script>
  <script src="../js/main.js"></script>

  <title>ã‚³ãƒ©ãƒ ä¸€è¦§ï½œmamaniere</title>
</head>

<body>

<header>
  <nav>
    <ul class="header_nav" id="global_nav">
      <li><a href="../"><span></span>ãƒ›ãƒ¼ãƒ </a></li>
      <li><a href="../about/"><span></span>ãƒãƒãƒ‹ã‚¨ãƒ¼ãƒ«</a></li>
      <li><a href="../analysis/"><span></span>ä½“èª¿ãƒã‚§ãƒƒã‚¯</a></li>
      <li><a href="../service/"><span></span>ã‚µãƒ¼ãƒ“ã‚¹æ¤œç´¢</a></li>
      <li><a href="../care/"><span></span>ãŠå½¹ç«‹ã¡æƒ…å ±</a></li>
      <li class="current"><a href="../column/"><span></span>ã‚³ãƒ©ãƒ </a></li>
    </ul>
  </nav>
</header>

<main>

<section class="column_archive_page">
  <div class="under_page_title">
    <h1>ã‚³ãƒ©ãƒ </h1>
  </div>

  <div class="inner">
    <ul class="column_card_list" id="column_list"></ul>

    <!-- ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ -->
    <div class="column_archive_page_pagination" id="pagination"></div>
  </div>
</section>

</main>

<footer>
  <div class="inner">
    <div class="footer_nav">
      <ul>
        <li><a href="#">åˆ©ç”¨è¦ç´„</a></li>
        <li><a href="#">ç›£ä¿®</a></li>
        <li><a href="#">ãŠåº—ã«ã¤ã„ã¦</a></li>
      </ul>
    </div>
  </div>
</footer>

<script>
/* ============================================================
   ğŸ”¹ ã‚³ãƒ©ãƒ æŠ•ç¨¿ãƒ‡ãƒ¼ã‚¿ï¼ˆWP ã®ä»£ã‚ã‚Šï¼‰
   â€» ã“ã“ã¯å¾Œã§ã€Œ200ä»¶åˆ†ã€è‡ªå‹•ç”Ÿæˆã‚‚ã§ãã‚‹
============================================================ */
const COLUMN_POSTS = [
  {
    id: 1,
    title: "è‚²å…ä¸­ã®ãƒãƒãŒæŒã£ã¦ãŠããŸã„å¿ƒã®ä½™ç™½ã¨ã¯ï¼Ÿ",
    subtitle: "å¿ƒã¨ä½“ã‚’æ•´ãˆã‚‹å°ã•ãªãƒ’ãƒ³ãƒˆ",
    thumbnail: "../images/col_dummy01.jpg",
    url: "../column/post1.html"
  },
  {
    id: 2,
    title: "èµ¤ã¡ã‚ƒã‚“ã¨ã®ç”Ÿæ´»ãƒªã‚ºãƒ ã‚’æ•´ãˆã‚‹æ–¹æ³•",
    subtitle: "å°‚é–€å®¶ãŒæ•™ãˆã‚‹ã‚„ã•ã—ã„è‚²å…ç¿’æ…£",
    thumbnail: "../images/col_dummy02.jpg",
    url: "../column/post2.html"
  },
  {
    id: 3,
    title: "ç”£å¾Œãƒãƒã®ãŸã‚ã®æ™‚çŸ­ç¾å®¹ãƒ†ã‚¯",
    subtitle: "5åˆ†ã§ã§ãã‚‹ã‚­ãƒ¬ã‚¤ã®ç¿’æ…£",
    thumbnail: "../images/col_dummy03.jpg",
    url: "../column/post3.html"
  }
];

/* ============================================================
   ğŸ”¹ ä¸€è¦§ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
============================================================ */
function renderList(page = 1, perPage = 9) {
  const start = (page - 1) * perPage;
  const end = start + perPage;
  const posts = COLUMN_POSTS.slice(start, end);

  const listEl = document.getElementById("column_list");
  listEl.innerHTML = "";

  posts.forEach(post => {
    const li = document.createElement("li");
    li.className = "column_card";

    li.innerHTML = `
      <a href="${post.url}" class="column_card_inner">
        <div class="column_card_thumb">
          <img src="${post.thumbnail}" alt="">
        </div>

        <div class="column_card_body">
          <div class="column_title">
            <h2 class="column_card_title">${post.title}</h2>
            ${post.subtitle ? `<p class="column_card_subtitle">${post.subtitle}</p>` : ""}
          </div>
        </div>
      </a>
    `;

    listEl.appendChild(li);
  });

  renderPagination(page);
}

/* ============================================================
   ğŸ”¹ ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³
============================================================ */
function renderPagination(currentPage) {
  const total = COLUMN_POSTS.length;
  const perPage = 9;
  const totalPages = Math.ceil(total / perPage);

  const container = document.getElementById("pagination");
  container.innerHTML = "";

  if (totalPages <= 1) return;

  // å‰ã¸
  if (currentPage > 1) {
    const prev = document.createElement("a");
    prev.href = "#";
    prev.textContent = "å‰ã¸";
    prev.onclick = e => { e.preventDefault(); renderList(currentPage - 1); };
    container.appendChild(prev);
  }

  // ãƒšãƒ¼ã‚¸ç•ªå·
  for (let i = 1; i <= totalPages; i++) {
    const span = document.createElement("span");
    span.textContent = i;
    if (i === currentPage) span.classList.add("current");
    else span.onclick = () => renderList(i);
    container.appendChild(span);
  }

  // æ¬¡ã¸
  if (currentPage < totalPages) {
    const next = document.createElement("a");
    next.href = "#";
    next.textContent = "æ¬¡ã¸";
    next.onclick = e => { e.preventDefault(); renderList(currentPage + 1); };
    container.appendChild(next);
  }
}

// åˆæœŸè¡¨ç¤º
renderList();

</script>

</body>
</html>
